name: CI

on:
  push:
    branches: [master]
  pull_request:
    branches: [master]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
name: Checkout code
      uses:actions/checkout@v4      
name: Set up JDK
      uses:actions/setup-java@v4
      with:distribution:"temurin"
        java-version:"17"
      
name: Compile source and tests
      run:|
        mkdir out
        javac -cp "lib/" -d out $(find src -name ".java") $(find test -name "*.java")

name: Run tests
      run:|
        java -jar lib/junit-platform-console-standalone.jar \--class-path out \--scan-class-path